<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>R1 Tactile Catalogue</title>

<style>
body{
    margin:0;
    background:#e5e5e5;
    font-family:Arial, sans-serif;
}

/* toolbar */
.toolbar{
    text-align:center;
    padding:10px;
}

/* buttons */
button{
    padding:6px 14px;
    margin:4px;
    cursor:pointer;
}

/* flipbook fits screen */
#flipbook{
    width:95vw;
    height:90vh;
    margin:auto;
}

/* page image */
.page img{
    width:100%;
    height:100%;
    object-fit:contain;
    background:white;
}
</style>

<!-- PageFlip library -->
<script src="page-flip.browser.js"></script>
</head>


<body>

<div class="toolbar">
    <button onclick="playSound(); prev()">◀ Prev</button>
    <button onclick="playSound(); next()">Next ▶</button>
    <button onclick="downloadPDF()">Download PDF</button>
</div>

<div id="flipbook">
    <div class="page"><img src="pages/1.jpeg"></div>
    <div class="page"><img src="pages/2.jpeg"></div>
    <div class="page"><img src="pages/3.jpeg"></div>
    <div class="page"><img src="pages/4.jpeg"></div>
    <div class="page"><img src="pages/5.jpeg"></div>
</div>


<script>

/* ================== FLIPBOOK ================== */

const pf = new St.PageFlip(
    document.getElementById("flipbook"),
    {
        /* dynamic size → always fits screen */
        width: window.innerWidth * 0.95,
        height: window.innerHeight * 0.90,

        showCover:true,

        /* smoother feel */
        flippingTime:1400,
        drawShadow:true,
        maxShadowOpacity:0.6
    }
);

pf.loadFromHTML(document.querySelectorAll(".page"));

/* resize on orientation change */
window.addEventListener("resize", ()=>{
    pf.update(
        window.innerWidth * 0.95,
        window.innerHeight * 0.90
    );
});


/* ================== SOUND ================== */
/* Button-triggered (most reliable approach) */

const flipSound = new Audio("flip.mp3");

function playSound(){
    flipSound.currentTime = 0;
    flipSound.play();
}

/* button clicks */
document.addEventListener("mousedown", playSound);
document.addEventListener("touchstart", playSound);



/* ================== BUTTON ACTIONS ================== */

function prev(){
    pf.flipPrev();
}

function next(){
    pf.flipNext();
}

function downloadPDF(){
    window.open("Catalogue_Revised-2.pdf");
}

</script>

</body>
</html>

